---
title: "Class 3"
output: html_document
---

```{r setup, include=FALSE}
# Class 4 ggplot2 Examples
require(ggplot2)
require(plotly)
library(knitr)
opts_chunk$set(fig.width=12, fig.height=8, fig.path='Figs/')
# Data Stuff
require(dplyr)
require(tibble)
require(reshape2)
require(scales)

pdf(NULL)

diamonds <- diamonds
mtcars <- mtcars %>%
  rownames_to_column()
iris <- iris
starwars <- starwars
airquality <- airquality %>%
  mutate(Date = as.Date(paste0("1973-", Month, "-", Day)))
```



```{r bar}
ggplot(data = diamonds, aes(x = cut)) + geom_bar(stat = "count") +
  scale_y_continuous(labels = comma) + 
  ggtitle("Count of Diamonds by Cut") +
  xlab("Cut") + 
  ylab("Count of Diamonds")
```

```{r}
ggplot(data = mtcars, aes(x = hp, y = drat, color = as.factor(cyl))) +
  geom_point() +
  scale_color_brewer(palette = "Oranges")
```

```{r}
ggplot(data = mtcars, aes(x = hp, y = drat, color = as.factor(cyl))) +
  geom_point() +
  scale_color_brewer(palette = "Oranges") + 
  facet_wrap(~as.factor(gear))
```

```{r}
#defines mean for use later
meandrat = mean(mtcars$drat)

ggplot(data = mtcars, aes(x = hp, y = drat, color = as.factor(cyl))) +
  geom_point() +
  scale_color_brewer(palette = "Oranges") +
  geom_hline(yintercept = meandrat, color = "blue") #+
  #geom_label(x = 200, y = meandrat, label = paste("Avg DratL", meandrat))
```
```{r}
#defines mean for use later
meandrat = mean(mtcars$drat)

ggplot(data = mtcars, aes(x = hp, y = drat)) +
  geom_point() +
  geom_text(aes(label = rowname), angle = 45, hjust = 0, vjust = 0, nudge_y = .5)
```

```{r}
#paste0 only puts spaces where specified
ggplotly(
  ggplot(data = airquality, aes(x = Date, y = Wind, group = 1, text = paste0("<b>", format(Date, "%B %d"), "</b>: ", Wind))) +
  geom_point() +
  geom_line(),
  tooltip = "text"
  )
```

```{r}
ggplotly(
  ggplot(data = airquality, aes(Date)) +
    geom_line()
)
```